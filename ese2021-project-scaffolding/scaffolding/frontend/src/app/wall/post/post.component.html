<!-- the following is rendered for all users except the creator -->
<div class="postWrapper" *ngIf="user !== post.userName">
    <div class="report">
    <button [disabled]="canNot()" *ngIf="!clickedReport" class="ReportButton" (click)="reportPost()">
      <mat-icon>report_icon</mat-icon>
    </button>
    <button [disabled]="canNot()"*ngIf="clickedReport" class="ReportButton"  (click)="reportPost()">
      <mat-icon>report_icon</mat-icon>
    </button>
    <p class="likesCount">{{post.like}}</p>
  </div>

  <div class="category">{{post.category}}</div>
    <div class="metadata">
        <img src="../../../assets/marmot01.png" class="usericon">
        <div class="username">{{post.userName}}:</div>
        <div class="postdate">{{calculateTimePosted()}}</div>
    </div>
    <img class="postImage" *ngIf="post.image" src='http://localhost:3000/uploads/{{post.image}}'>
    <div class="content">
      <button *ngIf="canChange()" class="verticalDots" mat-button [mat-menu-trigger-for]="menu"></button>
      <mat-menu #menu="matMenu" >
        <button mat-menu-item (click)="deletePost(post.id)">
          <mat-icon>delete</mat-icon>
          <span>Delete</span>
        </button>
        <button mat-menu-item (click)="changeEditability()">
          <mat-icon>edit</mat-icon>
          <span>Edit</span>
        </button>
      </mat-menu>
      <div *ngIf="!editable" class="contentTitle">{{post.title}}</div>
      <input *ngIf="editable" class="contentTitle editableTitle"[(ngModel)]="post.title"/>
      <div *ngIf="!editable" class="material">{{post.text}}</div>
      <input *ngIf="editable" class="material editableText"[(ngModel)]="post.text"/>
    </div>
    <div class="underPost">
      <div class="upvote">
        <button [disabled]="canNot()" *ngIf="!clickedUpvote" class="upvoteButton" (click)="upvotePost()">
          <mat-icon>thumb_up</mat-icon>
        </button>
        <button [disabled]="canNot()"*ngIf="clickedUpvote" class="upvoteButton clickedUp"  (click)="upvotePost()">
          <mat-icon>thumb_up</mat-icon>
        </button>
        <p class="likesCount">{{post.like}}</p>
      </div>
      <div class="downvote">
        <button [disabled]="canNot()" *ngIf="!clickedDownvote" class="downvoteButton" (click)="downvotePost()">
          <mat-icon>thumb_down</mat-icon>
        </button>
        <button [disabled]="canNot()" *ngIf="clickedDownvote" class="downvoteButton clickedDown"  (click)="downvotePost()">
          <mat-icon>thumb_down</mat-icon>
        </button>
        <p class="dislikesCount">{{post.dislike}}</p>
      </div>
      <div class="commentSection">
        <p class="noPosts" *ngIf="isCommentsEmpty()">Be the first to comment</p>
        <!-- renders all comments -->

        <div *ngFor="let comment of comments">
          <!--HELP
          <app-comment *ngIf="!isCommentsEmpty()" [comment] = 'comments'></app-comment>
          -->
        </div>

        <div class="newComment">
          <input [(ngModel)]="commentText" class="inputField" type="text" name="Comment" placeholder="Enter Comment" />

          <button [disabled]="canNot()" *ngIf="clickedComment" (click)="commentPost()">Comments</button>
          <button [disabled]="canNot()" *ngIf="!clickedComment" (click)="commentPost()">Comments</button>

          <!--
            <img src="../../../assets/marmot01.png" class="usericon">
            <div class="username">paulK:</div>
            <div class="commentContent">Lorem ipsum dolor</div>
        </div>
        <div class="comment">
            <img src="../../../assets/marmot01.png" class="usericon">
            <div class="username">paulK:</div>
            <div class="commentContent">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur rutrum ligula leo, a elementum risus suscipit ut.
            Maecenas dictum massa et dapibus eleifend.</div>
        </div>
        <div class="comment">
            <img src="../../../assets/marmot01.png" class="usericon">
            <div class="username">paulK:</div>
            <div class="commentContent">Nam fermentum, ligula nec pulvinar pretium, lorem</div>
        </div>
        -->
        </div>
    </div>
    </div>
</div>
